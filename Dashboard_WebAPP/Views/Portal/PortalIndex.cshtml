@{
    ViewBag.Title = "Index";
}
@model Dashboard_WebAPP.Models.PortalViewModel

<div class="jumbotron" style="height: 0px">
    @*<h1>ERS Portal</h1>
        <div><a href="http://www.ers.my/" class="btn btn-primary btn-lg">Learn more about ERS! &raquo;</a></div>*@
    <div>
        <div style="padding-left: 800px;">
            @using (Html.BeginForm("PortalIndex", "Portal", FormMethod.Post))
            {
                @Html.DropDownList("ddlInverter_sunny", Model.GetInverterListItems(), "-----Select an Inverter-----", new { @onchange = "this.form.submit();" })
            }
        </div>
    </div><!-- end title row -->
</div>






@if (ViewBag.myValue == 0)
{
    @*<div style="height:654px; border:2px solid #eee; display:inline-block; overflow:hidden; margin-top: -25px;">
            <iframe style="position:relative; top:-46px; border:none;" src="https://www.google.com/maps/d/embed?mid=1cSBXBagksBncIKjvyCgFcJEUW2MaHz2O" width="1105" height="700"></iframe>
        </div>*@
    @*  REAL API KEY:     AIzaSyDeQi3CdQObWs-qg9WFOC2BADhWG0jJtXo*@

    <style>
         /* Always set the map height explicitly to define the size of the div
        * element that contains the map. */
         #map {
             height: 700px;
             width: 1105px;
         }
    </style>


    <script>
          var TR_Con = '@(ViewBag.TR_Con)';
          var TCMA_Con = '@(ViewBag.TCMA_Con)';
          var Toyo_Con = '@(ViewBag.Toyo_Con)';
          var CLK_Con = '@(ViewBag.CLK_Con)';
          var Nasha_Con = '@(ViewBag.Nasha_Con)';
          var CCP_Con = '@(ViewBag.CCP_Con)';
          var TCH_Con = '@(ViewBag.TCH_Con)';
          var Shahrir_Con = '@(ViewBag.Shahrir_Con)';
          var LKY_Con = '@(ViewBag.LKY_Con)';
          var Krishna_Con = '@(ViewBag.Krishna_Con)';
          var Affandi_Con = '@(ViewBag.Affandi_Con)';
          var LSK_Con = '@(ViewBag.LSK_Con)';
          var OLK_Con = '@(ViewBag.OLK_Con)';
          var SS15_Con = '@(ViewBag.SS15_Con)';
          var SKS_Con = '@(ViewBag.SKS_Con)';
          var CEH_Con = '@(ViewBag.CEH_Con)';
          var OHK_Con = '@(ViewBag.OHK_Con)';
          var William_Con = '@(ViewBag.William_Con)';
          var CPW_Con = '@(ViewBag.CPW_Con)';
          var NWX_Con = '@(ViewBag.NWX_Con)';
          var SecretGarden_Con = '@(ViewBag.SecretGarden_Con)';
          var Kuvendran_Con = '@(ViewBag.Kuvendran_Con)';
          var JOSL_Con = '@(ViewBag.JOSL_Con)';
          var TCW_Con = '@(ViewBag.TCW_Con)';
          var YKW_Con = '@(ViewBag.YKW_Con)';
          var LKP_Con = '@(ViewBag.LKP_Con)';
          var LKM_Con = '@(ViewBag.LKM_Con)';
          var CMY_Con = '@(ViewBag.CMY_Con)';
          var Jerome_Con = '@(ViewBag.Jerome_Con)';
          var Choco_Con = '@(ViewBag.Choco_Con)';
          var ChengPK_Con = '@(ViewBag.ChengPK_Con)';
          var KPChurch_Con = '@(ViewBag.KPChurch_Con)';
          var Aviva_Con = '@(ViewBag.Aviva_Con)';
          var TYW_Con = '@(ViewBag.TYW_Con)';
          var FF_Con = '@(ViewBag.FF_Con)';
          var RoL_Con = '@(ViewBag.RoL_Con)';
          var TPE_Con = '@(ViewBag.TPE_Con)';
          var Hercules_Con = '@(ViewBag.Hercules_Con)';
          var SSL_Con = '@(ViewBag.SSL_Con)';
          var SFH_Con = '@(ViewBag.SFH_Con)';
          var SYW_Con = '@(ViewBag.SYW_Con)';
          var ICP_Con = '@(ViewBag.ICP_Con)';
          var Thumbprints_Con = '@(ViewBag.Thumbprints_Con)';
          var Firma_Con = '@(ViewBag.Firma_Con)';
    </script>

    <div id="map"></div>
    <script>
        var map;
        function initMap() {
            map = new google.maps.Map(document.getElementById('map'), {
                center: { lat: 4.249182, lng: 107.549879 },
                zoom: 6,
            });

            //ERROR ICON http://maps.google.com/mapfiles/kml/pal3/icon37.png
            //GREEN MARKER http://maps.google.com/mapfiles/ms/icons/green-dot.png
            var TR_Energy = new google.maps.Marker({ position: { lat: 6.90869, lng: 116.81816 }, map: map, icon: { url: TR_Con } }); //TR Energy 0.99MWp
            var TCMA = new google.maps.Marker({ position: { lat: 3.3541, lng: 101.5591 }, map: map, icon: { url: TCMA_Con } }); //Tan Chong Motor Assemblies Sdn Bhd
            var SSLE = new google.maps.Marker({ position: { lat: 5.24251, lng: 100.49699 }, map: map, icon: { url: SSL_Con } }); //Sun Sung Lee Engineering Sdn. Bhd.
            var Thumbprints = new google.maps.Marker({ position: { lat: 3.31272, lng: 101.58862 }, map: map, icon: { url: Thumbprints_Con } }); //Thumbprints Utd. Sdn Bhd
            var Firma_Odesi = new google.maps.Marker({ position: { lat: 5.88871, lng: 117.92391 }, map: map, icon: { url: Firma_Con } }); //Firma Odesi Sdn Bhd
            var SYW = new google.maps.Marker({ position: { lat: 4.5662, lng: 101.04829 }, map: map, icon: { url: SYW_Con } }); //SYW INDUSTRY
            var Shahrir = new google.maps.Marker({ position: { lat: 5.4031, lng: 100.57719 }, map: map, icon: { url: Shahrir_Con } }); //Mohamad Shahrir
            var River_of_life = new google.maps.Marker({ position: { lat: 3.16643, lng: 101.67836 }, map: map, icon: { url: RoL_Con } }); //River Of Life
            var CM_Yee = new google.maps.Marker({ position: { lat: 2.57778, lng: 102.59578 }, map: map, icon: { url: CMY_Con } }); //CM Yee
            var Aviva_1772 = new google.maps.Marker({ position: { lat: 2.6598, lng: 101.912 }, map: map, icon: { url: Aviva_Con } }); //1772 Aviva Green
            var CWTan = new google.maps.Marker({ position: { lat: 2.85571, lng: 101.68437 }, map: map, icon: { url: TCW_Con } }); //Tan Chun Weng
            var YWTan = new google.maps.Marker({ position: { lat: 3.0439, lng: 101.5806 }, map: map, icon: { url: TYW_Con } }); //Tan Yu Wea
            var Jack_Ong = new google.maps.Marker({ position: { lat: 5.305, lng: 100.26499 }, map: map, icon: { url: JOSL_Con } }); //Jack Ong Seng Leong
            var Raja_Jamal = new google.maps.Marker({ position: { lat: 3.09773, lng: 101.44473 }, map: map, icon: { url: "http://maps.google.com/mapfiles/ms/icons/green-dot.png" } }); //Raja Jamaludin
            var KPLau = new google.maps.Marker({ position: { lat: 2.98649, lng: 101.53957 }, map: map, icon: { url: LKP_Con } }); //Lau Ken Poh
            var Jerome = new google.maps.Marker({ position: { lat: 3.10055, lng: 101.62999 }, map: map, icon: { url: Jerome_Con } }); //Jerome Heah
            var Nasha = new google.maps.Marker({ position: { lat: 2.94435, lng: 101.79612 }, map: map, icon: { url: Nasha_Con } }); //Nasharuddin 2017
            var Hercules = new google.maps.Marker({ position: { lat: 3.05452, lng: 101.508 }, map: map, icon: { url: Hercules_Con } }); //Hercules F2
            var SKLee = new google.maps.Marker({ position: { lat: 3.15613, lng: 101.65467 }, map: map, icon: { url: LSK_Con } }); //Lee Szed Kee
            var secret_garden = new google.maps.Marker({ position: { lat: 5.9804, lng: 116.07349 }, map: map, icon: { url: SecretGarden_Con } }); //secret-garden 6.3kWp Solar PV
            var KSS = new google.maps.Marker({ position: { lat: 3.14909, lng: 101.76245 }, map: map, icon: { url: "http://maps.google.com/mapfiles/ms/icons/green-dot.png" } }); //Soo Kai Soon
            var WXNg = new google.maps.Marker({ position: { lat: 3.13095, lng: 101.55038 }, map: map, icon: { url: NWX_Con } }); //Ng Wei Xin
            var CCP = new google.maps.Marker({ position: { lat: 2.9360449, lng: 101.6337967 }, map: map, icon: { url: CCP_Con } }); //Ng Wei Xin

            var TR_Energy_CS = '<div id="content">' + '<div id="siteNotice">' + '</div>' + '<h4 id="firstHeading" class="firstHeading">TR Energy 0.99MWp</h4>' + '<div id="bodyContent">' + '<p>Info Here</p>' + '</div>' + '</div>';
            var TCMA_CS = '<div id="content">' + '<div id="siteNotice">' + '</div>' + '<h4 id="firstHeading" class="firstHeading">Tan Chong Motor Assemblies Sdn Bhd</h4>' + '<div id="bodyContent">' + '<p>Info Here</p>' + '</div>' + '</div>';
            var SSLE_CS = '<div id="content">' + '<div id="siteNotice">' + '</div>' + '<h4 id="firstHeading" class="firstHeading">Sun Sung Lee Engineering Sdn. Bhd.</h4>' + '<div id="bodyContent">' + '<p>Info Here</p>' + '</div>' + '</div>';
            var Thumbprints_CS = '<div id="content">' + '<div id="siteNotice">' + '</div>' + '<h4 id="firstHeading" class="firstHeading">Thumbprints Utd. Sdn Bhd</h4>' + '<div id="bodyContent">' + '<p>Info Here</p>' + '</div>' + '</div>';
            var Firma_Odesi_CS = '<div id="content">' + '<div id="siteNotice">' + '</div>' + '<h4 id="firstHeading" class="firstHeading">Firma Odesi Sdn Bhd</h4>' + '<div id="bodyContent">' + '<p>Info Here</p>' + '</div>' + '</div>';
            var SYW_CS = '<div id="content">' + '<div id="siteNotice">' + '</div>' + '<h4 id="firstHeading" class="firstHeading">SYW INDUSTRY</h4>' + '<div id="bodyContent">' + '<p>Info Here</p>' + '</div>' + '</div>';
            var Shahrir_CS = '<div id="content">' + '<div id="siteNotice">' + '</div>' + '<h4 id="firstHeading" class="firstHeading">Mohamad Shahrir</h4>' + '<div id="bodyContent">' + '<p>Info Here</p>' + '</div>' + '</div>';
            var River_of_life_CS = '<div id="content">' + '<div id="siteNotice">' + '</div>' + '<h4 id="firstHeading" class="firstHeading">River Of Life</h4>' + '<div id="bodyContent">' + '<p>Info Here</p>' + '</div>' + '</div>';
            var CM_Yee_CS = '<div id="content">' + '<div id="siteNotice">' + '</div>' + '<h4 id="firstHeading" class="firstHeading">CM Yee</h4>' + '<div id="bodyContent">' + '<p>Info Here</p>' + '</div>' + '</div>';
            var Aviva_1772_CS = '<div id="content">' + '<div id="siteNotice">' + '</div>' + '<h4 id="firstHeading" class="firstHeading">1772 Aviva Green</h4>' + '<div id="bodyContent">' + '<p>Info Here</p>' + '</div>' + '</div>';
            var CWTan_CS = '<div id="content">' + '<div id="siteNotice">' + '</div>' + '<h4 id="firstHeading" class="firstHeading">Tan Chun Weng</h4>' + '<div id="bodyContent">' + '<p>Info Here</p>' + '</div>' + '</div>';
            var YWTan_CS = '<div id="content">' + '<div id="siteNotice">' + '</div>' + '<h4 id="firstHeading" class="firstHeading">Tan Yu Wea</h4>' + '<div id="bodyContent">' + '<p>Info Here</p>' + '</div>' + '</div>';
            var Jack_Ong_CS = '<div id="content">' + '<div id="siteNotice">' + '</div>' + '<h4 id="firstHeading" class="firstHeading">Jack Ong Seng Leong</h4>' + '<div id="bodyContent">' + '<p>Info Here</p>' + '</div>' + '</div>';
            var Raja_Jamal_CS = '<div id="content">' + '<div id="siteNotice">' + '</div>' + '<h4 id="firstHeading" class="firstHeading">Raja Jamaludin</h4>' + '<div id="bodyContent">' + '<p>Info Here</p>' + '</div>' + '</div>';
            var KPLau_CS = '<div id="content">' + '<div id="siteNotice">' + '</div>' + '<h4 id="firstHeading" class="firstHeading">Lau Ken Poh</h4>' + '<div id="bodyContent">' + '<p>Info Here</p>' + '</div>' + '</div>';
            var Jerome_CS = '<div id="content">' + '<div id="siteNotice">' + '</div>' + '<h4 id="firstHeading" class="firstHeading">Jerome Heah</h4>' + '<div id="bodyContent">' + '<p>Info Here</p>' + '</div>' + '</div>';
            var Nasha_CS = '<div id="content">' + '<div id="siteNotice">' + '</div>' + '<h4 id="firstHeading" class="firstHeading">Nasharuddin 2017</h4>' + '<div id="bodyContent">' + '<p>Info Here</p>' + '</div>' + '</div>';
            var Hercules_CS = '<div id="content">' + '<div id="siteNotice">' + '</div>' + '<h4 id="firstHeading" class="firstHeading">Hercules F2</h4>' + '<div id="bodyContent">' + '<p>Info Here</p>' + '</div>' + '</div>';
            var SKLee_CS = '<div id="content">' + '<div id="siteNotice">' + '</div>' + '<h4 id="firstHeading" class="firstHeading">Lee Szed Kee</h4>' + '<div id="bodyContent">' + '<p>Info Here</p>' + '</div>' + '</div>';
            var secret_garden_CS = '<div id="content">' + '<div id="siteNotice">' + '</div>' + '<h4 id="firstHeading" class="firstHeading">secret-garden 6.3kWp Solar PV</h4>' + '<div id="bodyContent">' + '<p>Info Here</p>' + '</div>' + '</div>';
            var KSS_CS = '<div id="content">' + '<div id="siteNotice">' + '</div>' + '<h4 id="firstHeading" class="firstHeading">Soo Kai Soon</h4>' + '<div id="bodyContent">' + '<p>Info Here</p>' + '</div>' + '</div>';
            var WXNg_CS = '<div id="content">' + '<div id="siteNotice">' + '</div>' + '<h4 id="firstHeading" class="firstHeading">Ng Wei Xin</h4>' + '<div id="bodyContent">' + '<p>Info Here</p>' + '</div>' + '</div>';
            var CCP_CS = '<div id="content">' + '<div id="siteNotice">' + '</div>' + '<h4 id="firstHeading" class="firstHeading">ChuaChinPeng</h4>' + '<div id="bodyContent">' + '<p>Info Here</p>' + '</div>' + '</div>';

            var TR_infowindow = new google.maps.InfoWindow({ content: TR_Energy_CS });
            var TCMA_infowindow = new google.maps.InfoWindow({ content: TCMA_CS });
            var SSLE_infowindow = new google.maps.InfoWindow({ content: SSLE_CS });
            var Thumbprints_infowindow = new google.maps.InfoWindow({ content: Thumbprints_CS });
            var Firma_Odesi_infowindow = new google.maps.InfoWindow({ content: Firma_Odesi_CS });
            var SYW_infowindow = new google.maps.InfoWindow({ content: SYW_CS });
            var Shahrir_infowindow = new google.maps.InfoWindow({ content: Shahrir_CS });
            var River_of_life_infowindow = new google.maps.InfoWindow({ content: River_of_life_CS });
            var CM_Yee_infowindow = new google.maps.InfoWindow({ content: CM_Yee_CS });
            var Aviva_1772_infowindow = new google.maps.InfoWindow({ content: Aviva_1772_CS });
            var CWTan_infowindow = new google.maps.InfoWindow({ content: CWTan_CS });
            var YWTan_infowindow = new google.maps.InfoWindow({ content: YWTan_CS });
            var Jack_Ong_infowindow = new google.maps.InfoWindow({ content: Jack_Ong_CS });
            var Raja_Jamal_infowindow = new google.maps.InfoWindow({ content: Raja_Jamal_CS });
            var KPLau_infowindow = new google.maps.InfoWindow({ content: KPLau_CS });
            var Jerome_infowindow = new google.maps.InfoWindow({ content: Jerome_CS });
            var Nasha_infowindow = new google.maps.InfoWindow({ content: Nasha_CS });
            var Hercules_infowindow = new google.maps.InfoWindow({ content: Hercules_CS });
            var SKLee_infowindow = new google.maps.InfoWindow({ content: SKLee_CS });
            var secret_garden_infowindow = new google.maps.InfoWindow({ content: secret_garden_CS });
            var KSS_infowindow = new google.maps.InfoWindow({ content: KSS_CS });
            var WXNg_infowindow = new google.maps.InfoWindow({ content: WXNg_CS });
            var CCP_infowindow = new google.maps.InfoWindow({ content: CCP_CS });

            TR_Energy.addListener('mouseover', function () { TR_infowindow.open(map, TR_Energy); });
            TCMA.addListener('mouseover', function () { TCMA_infowindow.open(map, TCMA); });
            SSLE.addListener('mouseover', function () { SSLE_infowindow.open(map, SSLE); });
            Thumbprints.addListener('mouseover', function () { Thumbprints_infowindow.open(map, Thumbprints); });
            Firma_Odesi.addListener('mouseover', function () { Firma_Odesi_infowindow.open(map, Firma_Odesi); });
            SYW.addListener('mouseover', function () { SYW_infowindow.open(map, SYW); });
            Shahrir.addListener('mouseover', function () { Shahrir_infowindow.open(map, Shahrir); });
            River_of_life.addListener('mouseover', function () { River_of_life_infowindow.open(map, River_of_life); });
            CM_Yee.addListener('mouseover', function () { CM_Yee_infowindow.open(map, CM_Yee); });
            Aviva_1772.addListener('mouseover', function () { Aviva_1772_infowindow.open(map, Aviva_1772); });
            CWTan.addListener('mouseover', function () { CWTan_infowindow.open(map, CWTan); });
            YWTan.addListener('mouseover', function () { YWTan_infowindow.open(map, YWTan); });
            Jack_Ong.addListener('mouseover', function () { Jack_Ong_infowindow.open(map, Jack_Ong); });
            Raja_Jamal.addListener('mouseover', function () { Raja_Jamal_infowindow.open(map, Raja_Jamal); });
            KPLau.addListener('mouseover', function () { KPLau_infowindow.open(map, KPLau); });
            Jerome.addListener('mouseover', function () { Jerome_infowindow.open(map, Jerome); });
            Nasha.addListener('mouseover', function () { Nasha_infowindow.open(map, Nasha); });
            Hercules.addListener('mouseover', function () { Hercules_infowindow.open(map, Hercules); });
            SKLee.addListener('mouseover', function () { SKLee_infowindow.open(map, SKLee); });
            secret_garden.addListener('mouseover', function () { secret_garden_infowindow.open(map, secret_garden); });
            KSS.addListener('mouseover', function () { KSS_infowindow.open(map, KSS); });
            WXNg.addListener('mouseover', function () { WXNg_infowindow.open(map, WXNg); });
            CCP.addListener('mouseover', function () { CCP_infowindow.open(map, CCP); });

            TR_Energy.addListener('mouseout', function () { TR_infowindow.close(); });
            TCMA.addListener('mouseout', function () { TCMA_infowindow.open(); });
            SSLE.addListener('mouseout', function () { SSLE_infowindow.open(); });
            Thumbprints.addListener('mouseout', function () { Thumbprints_infowindow.open(); });
            Firma_Odesi.addListener('mouseout', function () { Firma_Odesi_infowindow.open(); });
            SYW.addListener('mouseout', function () { SYW_infowindow.open(); });
            Shahrir.addListener('mouseout', function () { Shahrir_infowindow.open(); });
            River_of_life.addListener('mouseout', function () { River_of_life_infowindow.open(); });
            CM_Yee.addListener('mouseout', function () { CM_Yee_infowindow.open(); });
            Aviva_1772.addListener('mouseout', function () { Aviva_1772_infowindow.open(); });
            CWTan.addListener('mouseout', function () { CWTan_infowindow.open(); });
            YWTan.addListener('mouseout', function () { YWTan_infowindow.open(); });
            Jack_Ong.addListener('mouseout', function () { Jack_Ong_infowindow.open(); });
            Raja_Jamal.addListener('mouseout', function () { Raja_Jamal_infowindow.open(); });
            KPLau.addListener('mouseout', function () { KPLau_infowindow.open(); });
            Jerome.addListener('mouseout', function () { Jerome_infowindow.open(); });
            Nasha.addListener('mouseout', function () { Nasha_infowindow.open(); });
            Hercules.addListener('mouseout', function () { Hercules_infowindow.open(); });
            SKLee.addListener('mouseout', function () { SKLee_infowindow.open(); });
            secret_garden.addListener('mouseout', function () { secret_garden_infowindow.open(); });
            KSS.addListener('mouseout', function () { KSS_infowindow.open(); });
            WXNg.addListener('mouseout', function () { WXNg_infowindow.open(); });
            CCP.addListener('mouseout', function () { CCP_infowindow.open(); });
        }
    </script>
    @*<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDeQi3CdQObWs-qg9WFOC2BADhWG0jJtXo&callback=initMap" async defer></script>*@
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDgj_OLNlWvNs8nr2JPLON4GPCgsxTJRnU&callback=initMap" async defer></script>

}
else
{
    <div class="row">
        <div class="col-md-3 text-center">
            <div class="single-content text-center">
                <div class="item-text">
                    <h3> @ViewBag.myTimestamp </h3>
                    <p>Date & Time</p>
                </div>
            </div>
        </div>
        <div class="col-md-3 text-center">
            <div class="single-content text-center">
                <div class="item-text">
                    <h3>@ViewBag.myTitle</h3>
                    <p>Location Name</p>
                </div>
            </div>
        </div>
    </div><!-- end row1 -->
    <div class="row">
        <div class="col-md-3 text-center">
            <div class="single-content text-center">
                <div class="item-text">
                    <h3>@ViewBag.myCurrentPower</h3>
                    <p>Current Power</p>
                </div>
            </div>
        </div>
        <div class="col-md-3 text-center">
            <div class="single-content text-center">
                <div class="item-text">
                    <h3>@ViewBag.myEnergyToday</h3>
                    <p>PV Energy Today</p>
                </div>
            </div>
        </div>
        <div class="col-md-3 text-center">
            <div class="single-content text-center">
                <div class="item-text">
                    <h3>@ViewBag.myTotalEnergy</h3>
                    <p>Total Energy Generated</p>
                </div>
            </div>
        </div>
        <div class="col-md-3 text-center">
            <div class="single-content text-center">
                <div class="item-text">
                    <h3>@ViewBag.myCO2today</h3>
                    <p>CO2 Avoided Today</p>
                </div>
            </div>
        </div>
    </div>

    <div><img style="-webkit-user-select: none;margin: auto;" src=@ViewBag.myGraphURL /></div>
}

